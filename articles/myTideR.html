<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>myTideR: Gotta Tiddl' Em All! • myTideR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="myTideR: Gotta Tiddl' Em All!">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">myTideR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/myTideR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>myTideR: Gotta Tiddl' Em All!</h1>
            
      

      <div class="d-none name"><code>myTideR.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>A tide is the in-flow of tiddlers generated by an external script,
often scheduled to be ran at specific times. Data flow in and out of
your wiki. The aim is to help you build an overview of the day that has
passed, in parallell with you tiddlywiki note taking; what happened in
the news that day? What was the weather like? What web sites did you
enjoy? Did you receive important emails? What files did you work
with?</p>
<p>Demonstration of an early version: <a href="https://www.youtube.com/watch?v=kBH73OoaL9o" class="external-link uri">https://www.youtube.com/watch?v=kBH73OoaL9o</a></p>
<p>First a warning: This is mostly a proof-of-concept and should not be
trusted with valuable data. Use on your own risk and keep backups!</p>
<p>To get started, you need to initiate the tiddlywiki server.</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://andjar.github.io/myTideR/">myTideR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/init.html">init</a></span><span class="op">(</span><span class="st">"../my_tide"</span><span class="op">)</span> <span class="co"># path to your tide folder</span></span></code></pre>
<p>This will create a tiddlywiki server at that location,<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;You can specify another location for the wiki itself
with the `wikipath` argument. If the folder already exists, myTideR is
expecting an existing tiddlywiki at that location.&lt;/p&gt;"><sup>1</sup></a> relative to the R
working directory. To start the server from R:</p>
<pre><code><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/start_server.html">start_server</a></span><span class="op">(</span>tidepath<span class="op">=</span><span class="st">"../my_tide"</span><span class="op">)</span></span></code></pre>
<p>The path can be an absolute path or relative to the R working
directory. Within this folder, the package will create the following
directories:</p>
<ul>
<li>
<code>file-archive</code>. Files will be moved here from the
<code>inbox</code>
</li>
<li>
<code>inbox</code>. This is the folder you will copy your stuff
to</li>
<li>
<code>outbox</code>. Currently not used, but the idea is that your
scripts can put things here</li>
<li>
<code>web-archive</code>. Archived web sites will be saved here</li>
<li>
<code>.wiki</code>. This is where your wiki is living</li>
</ul>
<p>The script will also add certain tiddlers to your tiddlywiki:</p>
<ul>
<li>The <code>$:/tide/</code> tiddlers include custom viewtemplates,
scripts and settings.</li>
<li>
<code>$:/config/Server/ExternalFilters/[prefix[$:/tide]]</code>. To
get access to the tide tiddlers.</li>
<li>
<code>$:/config/SyncSystemTiddlersFromServer</code>. To get access
to the tide tiddlers.</li>
</ul>
<p>Note the the tides themselves will be saved with prefix
<code>$:/tides/</code> (not <code>$:/tide/</code>) to separate them from
those controlling the scripts.</p>
<p>By default, the tide scripts are tagged with <code>DoNotRun</code>.
You have to remove that tag to activate the scripts (or use
<code>run_tides(force_run = TRUE)</code>).</p>
<p>To run your tide scripts, in R:</p>
<pre><code><span><span class="fu"><a href="../reference/run_tides.html">run_tides</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<div class="section level3">
<h3 id="using-mws">Using MWS<a class="anchor" aria-label="anchor" href="#using-mws"></a>
</h3>
<p>The <a href="https://talk.tiddlywiki.org/t/announcing-the-multiwikiserver-plugin/9033" class="external-link">MultiWikiServer
Plugin</a> is a plugin currently under development that introduces
recipes and bags, and stores the tiddlywiki to a SQLite database instead
of flat files. There are several benefits, including performance. To use
the MWS plugin, you need to download the <a href="https://github.com/Jermolene/TiddlyWiki5/tree/multi-wiki-support" class="external-link">git
repository for tiddlywiki</a> and initiate your server as (replace
<code>"../TiddlyWiki5"</code>) with the relative path to the downloaded
repository:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://andjar.github.io/myTideR/">myTideR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/init.html">init</a></span><span class="op">(</span><span class="st">"../my_tide"</span>, mws <span class="op">=</span> <span class="cn">TRUE</span>, tiddlywiki <span class="op">=</span> <span class="st">"../TiddlyWiki5"</span><span class="op">)</span></span></code></pre>
<p>You can later retrieve whether or not your tides lives in an MWS wiki
by checking the tiddler called <code>$:/tide/settings/mws</code>:</p>
<pre><code><span><span class="va">mws</span> <span class="op">&lt;-</span> <span class="va">tides</span><span class="op">[</span><span class="va">title</span> <span class="op">==</span> <span class="st">"$:/tide/settings/mws"</span>, <span class="va">text</span><span class="op">]</span> <span class="op">==</span> <span class="st">"yes"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="included-tides">Included tides<a class="anchor" aria-label="anchor" href="#included-tides"></a>
</h2>
<div class="section level3">
<h3 id="the-rss-tide">The RSS tide<a class="anchor" aria-label="anchor" href="#the-rss-tide"></a>
</h3>
<p>The RSS channels are tiddlers with prefix
<code>$:/tide/settings/RSS/</code>. For example,</p>
<pre><code>title: $:/tide/settings/RSS/NRK Innenriks
rss_publisher: NRK Innenriks
rss_url: https://www.nrk.no/norge/toppsaker.rss
type: text/vnd.tiddlywiki
text: NRK Innenriks</code></pre>
<p>Only <code>rss_publisher</code> and <code>rss_url</code> are used by
the script. When ran, your tide tiddlers will have titles like
<code>$:/tides/RSS/&lt;uuid&gt;</code>.</p>
<p>Please note that the script has only been tested with the RSS from
NRK, and some adaption may be needed if you add other channels.</p>
</div>
<div class="section level3">
<h3 id="the-file-tide">The File tide<a class="anchor" aria-label="anchor" href="#the-file-tide"></a>
</h3>
<p>The file tide will archive the files you have added to your
<code>inbox</code> folder and create corresponding tiddlers. The files
will be moved to <code>file-archive/&lt;file creation date&gt;</code>.
The tiddlers will contain file metadata, as well as links to the files
themselves.</p>
<p>There should be some protection against colliding file names and
duplicates (hash), but there’s no guarantee against data loss.</p>
<p>Note: Chrome won’t let you open local files by default this way, you
need to install an extension to open the external files from the
browser.</p>
</div>
<div class="section level3">
<h3 id="the-hook-tide">The Hook tide<a class="anchor" aria-label="anchor" href="#the-hook-tide"></a>
</h3>
<p>The hook tide allows you to “do things” in-text using <em>hooks</em>.
For example,</p>
<pre><code>This is some tiddler content. You can have a TODO::todo element:: or perhaps a SECRET::little secret::. Or perhaps a
SUMMARY::
This
is a
multiline
summary
::</code></pre>
<p>Here, we will call <code>TODO</code>, <code>SECRET</code> and
<code>SUMMARY</code> the hooks. They are identified by the following
<code>::</code>.</p>
<p>The default behavior is that the content will be moved to a separate
tiddler, titled something like
<code>$:/tides/hook/HOOK/&lt;uuid&gt;</code> (where <code>HOOK</code> in
the example above will be <code>SECRET</code>, <code>TODO</code> or
<code>SUMMARY</code>), and transcluded in the original tiddler as
<code>{{$:/tides/hook/HOOK/&lt;uuid&gt;||$:/tides/hook/HOOK}}</code>
(i.e., <code>$:/tides/hook/HOOK</code> is acting as template).</p>
<p>But feel free to implement more advanced hook actions. For example,
it may be useful to have a hook for <code>DOI::&lt;doi&gt;::</code> that
fetches the doi record, creates a tiddler for it, and make an
appropriate link.</p>
</div>
<div class="section level3">
<h3 id="the-web-tide">The Web tide<a class="anchor" aria-label="anchor" href="#the-web-tide"></a>
</h3>
<p>The web tide will archive web pages listed in the
<code>reference</code> fields of your tiddlywiki. Using
<code>single-file</code>, the web pages are downloaded to the
<code>web-archive</code> folder, and the reference is updated to point
to a tiddler instead of the original link.</p>
<p>Note: You need to install the <code>single-file cli</code> on your
system!</p>
</div>
<div class="section level3">
<h3 id="the-mail-tide">The Mail tide<a class="anchor" aria-label="anchor" href="#the-mail-tide"></a>
</h3>
<p>The mail tide is quite similar to the file tide; drag-and-drop mails
from outlook (<code>.msg</code>) to the <code>inbox</code> folder, and
the tide will create a tiddler for the mail itself and archive the
attachments (run the file tide). This tide requires the <a href="msgxtractr%20package">https://github.com/hrbrmstr/msgxtractr</a>.</p>
<p>Please note: The <code>tide_order</code> field ensures that the mail
tide runs <em>before</em> the file tide.</p>
</div>
</div>
<div class="section level2">
<h2 id="ideas-for-new-tides">Ideas for new tides<a class="anchor" aria-label="anchor" href="#ideas-for-new-tides"></a>
</h2>
<div class="section level3">
<h3 id="the-calendar-tide-not-implemented-yet">The Calendar tide (not implemented yet)<a class="anchor" aria-label="anchor" href="#the-calendar-tide-not-implemented-yet"></a>
</h3>
<p>Import events from your calendars and have them listed at the
corresponding dates.</p>
</div>
<div class="section level3">
<h3 id="the-youtube-history-tide-not-implemented-yet">The YouTube history tide (not implemented yet)<a class="anchor" aria-label="anchor" href="#the-youtube-history-tide-not-implemented-yet"></a>
</h3>
<p>Following a Google Takeout, import your youtube history to see what
videoes you used to enjoy in the past.</p>
</div>
<div class="section level3">
<h3 id="the-spotify-tide-not-implemented-yet">The Spotify tide (not implemented yet)<a class="anchor" aria-label="anchor" href="#the-spotify-tide-not-implemented-yet"></a>
</h3>
<p>Import your Spotify history to remember what songs you used to listen
to.</p>
</div>
<div class="section level3">
<h3 id="the-google-maps-tide-not-implemented-yet">The Google Maps tide (not implemented yet)<a class="anchor" aria-label="anchor" href="#the-google-maps-tide-not-implemented-yet"></a>
</h3>
<p>Following a Google Takeout, import your google location history to
see where you spent your days.</p>
</div>
<div class="section level3">
<h3 id="the-logseqobsidian-tide-not-implemented-yet">The LogSeq/Obsidian tide (not implemented yet)<a class="anchor" aria-label="anchor" href="#the-logseqobsidian-tide-not-implemented-yet"></a>
</h3>
<p>TiddlyWiki is not the perfect interface for everything. However, it
is perfect to get an overview of all your data. This tide imports your
LogSeq/obsidian files (intended as read-only).</p>
</div>
<div class="section level3">
<h3 id="the-zotero-tide">The Zotero tide<a class="anchor" aria-label="anchor" href="#the-zotero-tide"></a>
</h3>
<p>Makes an entry in tiddlywiki for all entries in your Zotero
database.</p>
</div>
</div>
<div class="section level2">
<h2 id="making-custom-scripts">Making custom scripts<a class="anchor" aria-label="anchor" href="#making-custom-scripts"></a>
</h2>
<p>In general, the tide scripts should look like this:</p>
<pre><code>```r
do_some_stuff &lt;- function(tiddlers, tides) {
  ...
}

do_some_stuff(tiddlers, tides)
```</code></pre>
<p>where tiddlers and tides are datatables that are provided by the
<code>myTideR</code> packages (note that you can keep the backticks!).
That is, all tiddlers and tides are loaded once when you run
<code><a href="../reference/run_tides.html">run_tides()</a></code>.</p>
<p>Note: You do need to include
<code>do_some_stuff(tiddlers, tides)</code> at the end of your script to
actually run the code</p>
<p>Some more notes:</p>
<ul>
<li>Be careful about changing pre-existing tiddlers with your tides.
Since the tiddlers are only fetched once for each
<code><a href="../reference/run_tides.html">run_tides()</a></code>, there is a risk of the local copy getting
out-of-sync from the server and that you rewrite the same tiddler
multiple times.</li>
<li>As an example, the file inbox folder path can be fetched read as
<code>full_file_path &lt;- normalizePath(file.path(tides[title == "$:/tide/settings/path", text], "inbox"), mustWork = FALSE)</code>
</li>
</ul>
<div class="section level3">
<h3 id="using-mws-1">Using MWS<a class="anchor" aria-label="anchor" href="#using-mws-1"></a>
</h3>
<p>If you want to use the MWS plugin, your scripts may benefit from
defining a <code>tide_recipe</code> field that defines which recipe to
write the resulting tiddlers too. For example, the RSS tide put its
tiddlers in a specific recipe:</p>
<pre><code><span><span class="va">mws</span> <span class="op">&lt;-</span> <span class="va">tides</span><span class="op">[</span><span class="va">title</span> <span class="op">==</span> <span class="st">"$:/tide/settings/mws"</span>, <span class="va">text</span><span class="op">]</span> <span class="op">==</span> <span class="st">"yes"</span></span>
<span><span class="va">recipe</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">mws</span>, <span class="va">tides</span><span class="op">[</span><span class="va">title</span> <span class="op">==</span> <span class="st">"$:/tide/scripts/RSS"</span>, <span class="va">tide_recipe</span><span class="op">]</span>, <span class="st">"default"</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="backlogtodo">Backlog/TODO<a class="anchor" aria-label="anchor" href="#backlogtodo"></a>
</h2>
<ul>
<li>Make option to specify how often a tide should run
<ul>
<li>Requires both a read and a write to the tide scripts file</li>
</ul>
</li>
<li>Write tide log files to tiddlywiki</li>
<li>Make import for gmail files as well</li>
</ul>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anders H. Jarmund.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
